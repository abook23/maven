<link href="/css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet">
<div class="col-lg-12">
	<div class="ibox float-e-margins">
		<div class="ibox-title">
			<div class="row">
				<div class="col-xs-12 col-sm-6 col-md-10">
					<h5>系统管理/用户管理</h5>
				</div>
				<div class="col-xs-6 col-md-2">
					<button id="add" type="button" class="btn btn-primary btn-sm" onclick="add()">添加</button>
				</div>
			</div>

			<!--<div class="ibox-tools">

						<a class="collapse-link">
							<i class="fa fa-chevron-up"></i>
						</a>
						<a class="dropdown-toggle" data-toggle="dropdown" href="table_basic.html#">
							<i class="fa fa-wrench"></i>
						</a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="table_basic.html#">选项1</a>
							</li>
							<li><a href="table_basic.html#">选项2</a>
							</li>
						</ul>
						<a class="close-link">
							<i class="fa fa-times"></i>
						</a>
					</div>-->
		</div>
		<div class="row">
			<div class="col-lg-12">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>基本 <small>分类，查找</small></h5>
					</div>
					<div class="ibox-content">
						<table class="table table-striped table-hover dataTables-example">
							<thead>
								<tr>
									<th style="display: none;">userId</th>
									<th>name</th>
									<th>phone</th>
									<th>email</th>
									<th>qq</th>
									<th>createTime</th>
								</tr>
							</thead>
							<tbody>
								<!--<tr class="gradeX">
												<td>Trident</td>
												<td>Internet Explorer 4.0
												</td>
												<td>Win 95+</td>
												<td class="center">4</td>
												<td class="center">X</td>
											</tr>-->
							</tbody>
							<tfoot>
								<tr>
									<th style="display: none;">userId</th>
									<th>name</th>
									<th>phone</th>
									<th>email</th>
									<th>qq</th>
									<th>createTime</th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="ibox-content">

			<table class="table table-hover">
				<thead>
					<tr>
						<th>#</th>
						<th>头像</th>
						<th>用户名</th>
						<th>手机号</th>
						<th>邮箱</th>
						<th>状态</th>
						<th>操作</th>
					</tr>
				</thead>
				<tbody>
					<#list userInfoPage.getList() as x>
						<tr ondblclick="info('${x.userId}')">
							<td>1</td>
							<td>${x.name}</td>
							<td>${x.name}</td>
							<td>${x.phone}</td>
							<td>${x.email}</td>
							<td>正常</td>
							<td>张三</td>
						</tr>
					</#list>
				</tbody>
			</table>
		</div>
	</div>
</div>

<!-- Data Tables -->
<script src="/js/plugins/dataTables/jquery.dataTables.js"></script>
<script src="/js/plugins/dataTables/dataTables.bootstrap.js"></script>
<script src="../../js/plugins/dataTables/dataTables.abook23.js"></script>

<script src="/page/user/user.js"></script>
<!-- Page-Level Scripts -->

<script>
	$(document).ready(function() {
		//				$('.dataTables-example').DataTable({
		//					ajax:{
		//						url:'/user/list2',
		//						dataSrc: 'list'
		//					},
		//					columns:[
		//						{data:'userId'},
		//						{data:'name'},
		//						{data:'phone'},
		//						{data:'email'},
		//						{data:'qq'},
		//						{data:'createTime'}
		//					]
		//				});

		//				var table = $('.dataTables-example').DataTable({
		//					ordering: false, //排序
		//					//开启服务器模式
		//					serverSide: true,
		//					ajax: '/user/list2',
		//					columns: [{
		//						data: 'userId',
		//						"visible": true
		//					}, {
		//						data: 'name'
		//					}, {
		//						data: 'phone'
		//					}, {
		//						data: 'email'
		//					}, {
		//						data: 'qq'
		//					}, {
		//						data: 'createTime'
		//					}],
		//					"rowCallback": function(row, data, index) {
		//						var html = "";
		//						html += '<dd class="project-people">'
		//						html += '<img alt="image" class="img-circle" src="img/a5.jpg">';
		//						html += '</dd>';
		//						$('td:eq(1)', row).html(html);
		//						//$('td:eq(0)', row).css('display', 'none');
		//					}
		//				});
		var table = dataTableByServer(".dataTables-example", "/user/list2", "userId:false,name,phone,email,qq,createTime");

		$('.dataTables-example').on("dblclick", 'tr', function() {
			//					var id = $(this).find("td").eq(0).text();
			//					if(id != '') {
			//						info(id);
			//					}
			var rowData = table.row(this).data();
			info(rowData.userId);
		});
	});
</script>